{"version":3,"sources":["webpack:///./src/components/common/TreeRender.vue?65d8","webpack:///src/components/common/TreeRender.vue","webpack:///./src/components/common/TreeRender.vue?2de7","webpack:///./src/components/common/TreeRender.vue","webpack:///./src/components/page/SystemManage.vue?7117","webpack:///./src/components/common/TreeRender.vue?d7df","webpack:///./src/components/page/SystemManage.vue?6d57","webpack:///./mock/index.js","webpack:///src/components/page/SystemManage.vue","webpack:///./src/components/page/SystemManage.vue?c33b","webpack:///./src/components/page/SystemManage.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","directives","name","rawName","value","DATA","expression","ref","id","attrs","size","autofocus","on","blur","$event","stopPropagation","nodeEditPass","STORE","NODE","nativeOn","click","nodeEditFocus","keyup","_k","keyCode","key","model","callback","$$v","$set","isEdit","class","maxexpandId","_v","_s","nodeAdd","nodeEdit","nodeDel","staticRenderFns","TreeRendervue_type_script_lang_js_","props","methods","s","d","n","$emit","_this","$nextTick","$refs","input","focus","common_TreeRendervue_type_script_lang_js_","component","Object","componentNormalizer","options","__file","__webpack_exports__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_SystemManage_vue_vue_type_style_index_0_lang_css___WEBPACK_IMPORTED_MODULE_0__","__webpack_require__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_SystemManage_vue_vue_type_style_index_0_lang_css___WEBPACK_IMPORTED_MODULE_0___default","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_TreeRender_vue_vue_type_style_index_0_lang_css___WEBPACK_IMPORTED_MODULE_0__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_TreeRender_vue_vue_type_style_index_0_lang_css___WEBPACK_IMPORTED_MODULE_0___default","separator","handleAddTop","placeholder","filterText","filter-node-method","filterNode","data","setTree","node-key","highlight-current","defaultProps","expand-on-click-node","render-content","renderContent","default-expanded-keys","defaultExpandKeys","node-click","handleNodeClick","_e","mock","treelist","ProSort","pid","children","remark","SystemManagevue_type_script_lang_js_","non_maxexpandId","isLoadingTree","label","watch","val","expandMenuList","filter","mounted","console","log","initExpand","indexOf","map","a","push","h","_ref","node","store","that","TreeRender","handleAdd","handleEdit","handleDelete","level","$message","error","expanded","_this2","length","delNode","list","parent","_index","c","i","splice","success","isDel","$confirm","confirmButtonText","cancelButtonText","type","then","catch","page_SystemManagevue_type_script_lang_js_"],"mappings":"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","file":"js/chunk-ec54b964.2f162aca.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('span',{staticClass:\"tree-expand\"},[_c('span',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.DATA.isEdit),expression:\"DATA.isEdit\"}],staticClass:\"tree-label\"},[_c('el-input',{ref:'treeInput'+_vm.DATA.id,staticClass:\"edit\",attrs:{\"size\":\"mini\",\"autofocus\":\"\"},on:{\"blur\":function($event){$event.stopPropagation();_vm.nodeEditPass(_vm.STORE,_vm.DATA,_vm.NODE)}},nativeOn:{\"click\":function($event){$event.stopPropagation();return _vm.nodeEditFocus($event)},\"keyup\":function($event){if(!('button' in $event)&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }$event.stopPropagation();_vm.nodeEditPass(_vm.STORE,_vm.DATA,_vm.NODE)}},model:{value:(_vm.DATA.name),callback:function ($$v) {_vm.$set(_vm.DATA, \"name\", $$v)},expression:\"DATA.name\"}})],1),_c('span',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.DATA.isEdit),expression:\"!DATA.isEdit\"}],class:[_vm.DATA.id > _vm.maxexpandId ? 'tree-new tree-label' : 'tree-label']},[_c('span',[_vm._v(_vm._s(_vm.DATA.name))])]),_c('span',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.DATA.isEdit),expression:\"!DATA.isEdit\"}],staticClass:\"tree-btn\"},[_c('i',{staticClass:\"el-icon-plus\",on:{\"click\":function($event){$event.stopPropagation();_vm.nodeAdd(_vm.STORE,_vm.DATA,_vm.NODE)}}}),_c('i',{staticClass:\"el-icon-edit\",on:{\"click\":function($event){$event.stopPropagation();_vm.nodeEdit(_vm.STORE,_vm.DATA,_vm.NODE)}}}),_c('i',{staticClass:\"el-icon-delete\",on:{\"click\":function($event){$event.stopPropagation();_vm.nodeDel(_vm.STORE,_vm.DATA,_vm.NODE)}}})])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <span class=\"tree-expand\">\r\n    <span\r\n      class=\"tree-label\"\r\n      v-show=\"DATA.isEdit\"\r\n    >\r\n      <el-input\r\n        class=\"edit\"\r\n        size=\"mini\"\r\n        autofocus\r\n        v-model=\"DATA.name\"\r\n        :ref=\"'treeInput'+DATA.id\"\r\n        @click.stop.native=\"nodeEditFocus\"\r\n        @blur.stop=\"nodeEditPass(STORE,DATA,NODE)\"\r\n        @keyup.enter.stop.native=\"nodeEditPass(STORE,DATA,NODE)\"\r\n      ></el-input>\r\n    </span>\r\n    <span\r\n      v-show=\"!DATA.isEdit\"\r\n      :class=\"[DATA.id > maxexpandId ? 'tree-new tree-label' : 'tree-label']\"\r\n    >\r\n      <span>{{DATA.name}}</span>\r\n    </span>\r\n    <span\r\n      class=\"tree-btn\"\r\n      v-show=\"!DATA.isEdit\"\r\n    >\r\n      <i\r\n        class=\"el-icon-plus\"\r\n        @click.stop=\"nodeAdd(STORE,DATA,NODE)\"\r\n      ></i>\r\n      <i\r\n        class=\"el-icon-edit\"\r\n        @click.stop=\"nodeEdit(STORE,DATA,NODE)\"\r\n      ></i>\r\n      <i\r\n        class=\"el-icon-delete\"\r\n        @click.stop=\"nodeDel(STORE,DATA,NODE)\"\r\n      ></i>\r\n    </span>\r\n  </span>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: \"treeExpand\",\r\n  props: [\"NODE\", \"DATA\", \"STORE\", \"maxexpandId\"],\r\n  methods: {\r\n    nodeAdd(s, d, n) {\r\n      //新增\r\n      this.$emit(\"nodeAdd\", s, d, n);\r\n    },\r\n    nodeEdit(s, d, n) {\r\n      //编辑\r\n      d.isEdit = true;\r\n      this.$nextTick(() => {\r\n        this.$refs[\"treeInput\" + d.id].$refs.input.focus();\r\n      });\r\n      this.$emit(\"nodeEdit\", s, d, n);\r\n    },\r\n    nodeDel(s, d, n) {\r\n      //删除\r\n      this.$emit(\"nodeDel\", s, d, n);\r\n    },\r\n    nodeEditPass(s, d, n) {\r\n      //编辑完成\r\n      d.isEdit = false;\r\n    },\r\n    nodeEditFocus() {\r\n      //阻止点击节点的事件冒泡\r\n    }\r\n  }\r\n};\r\n</script>\r\n\r\n<style>\r\n.tree-expand {\r\n  overflow: hidden;\r\n}\r\n\r\n.tree-expand .tree-label {\r\n  font-size: 1.2em;\r\n}\r\n.tree-expand .tree-label .edit {\r\n  width: 80%;\r\n}\r\n.tree-expand .tree-btn {\r\n  display: none;\r\n  float: right;\r\n  margin-right: 40px;\r\n}\r\n.tree-expand .tree-btn i {\r\n  color: #8492a6;\r\n  font-size: 1.2em;\r\n  margin-right: 10px;\r\n}\r\n</style>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TreeRender.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TreeRender.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./TreeRender.vue?vue&type=template&id=058a9d10&\"\nimport script from \"./TreeRender.vue?vue&type=script&lang=js&\"\nexport * from \"./TreeRender.vue?vue&type=script&lang=js&\"\nimport style0 from \"./TreeRender.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\ncomponent.options.__file = \"TreeRender.vue\"\nexport default component.exports","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SystemManage.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SystemManage.vue?vue&type=style&index=0&lang=css&\"","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TreeRender.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TreeRender.vue?vue&type=style&index=0&lang=css&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('div',{staticClass:\"crumbs\"},[_c('el-breadcrumb',{attrs:{\"separator\":\"/\"}},[_c('el-breadcrumb-item',[_c('i',{staticClass:\"el-icon-lx-cascades\"}),_vm._v(\" 学院结构\")])],1)],1),_c('div',{staticClass:\"expand\"},[_c('div',[_c('el-button',{on:{\"click\":_vm.handleAddTop}},[_vm._v(\"增加学院\")]),_c('el-input',{staticClass:\"filter\",attrs:{\"placeholder\":\"输入关键字进行过滤\"},model:{value:(_vm.filterText),callback:function ($$v) {_vm.filterText=$$v},expression:\"filterText\"}}),(_vm.isLoadingTree)?_c('el-tree',{ref:\"expandMenuList\",staticClass:\"expand-tree\",attrs:{\"filter-node-method\":_vm.filterNode,\"data\":_vm.setTree,\"node-key\":\"id\",\"highlight-current\":\"\",\"props\":_vm.defaultProps,\"expand-on-click-node\":false,\"render-content\":_vm.renderContent,\"default-expanded-keys\":_vm.defaultExpandKeys},on:{\"node-click\":_vm.handleNodeClick}}):_vm._e()],1)])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","export default {\r\n    maxexpandId: 95,\r\n    treelist: [{\r\n        id: 1,\r\n        name: \"机械工程学院\",\r\n        ProSort: 1,\r\n        pid: '',\r\n        isEdit: false,\r\n        children: [{\r\n            id: 35,\r\n            name: \"机械制造与自动化系\",\r\n            pid: 1,\r\n            remark: '',\r\n            isEdit: false,\r\n            children: [{\r\n                id: 96,\r\n                name: \"一班\",\r\n                pid: 1,\r\n                remark: '',\r\n                isEdit: false,\r\n                children: []\r\n            }, {\r\n                id: 97,\r\n                name: \"二班\",\r\n                pid: 1,\r\n                remark: '',\r\n                isEdit: false,\r\n                children: []\r\n            }]\r\n        }, {\r\n            id: 36,\r\n            name: \"机械电子工程系\",\r\n            pid: 1,\r\n\r\n            isEdit: false,\r\n            children: []\r\n        }, {\r\n            id: 37,\r\n            name: \"机械设计工程系\",\r\n            pid: 1,\r\n\r\n            isEdit: false,\r\n            children: []\r\n        }, {\r\n            id: 38,\r\n            name: \"工业设计系\",\r\n            pid: 1,\r\n\r\n            isEdit: false,\r\n            children: []\r\n        }, {\r\n            id: 39,\r\n            name: \"车辆工程系\",\r\n            pid: 1,\r\n\r\n            isEdit: false,\r\n            children: []\r\n        }, {\r\n            id: 40,\r\n            name: \"工业工程系\",\r\n            pid: 1,\r\n\r\n            isEdit: false,\r\n            children: []\r\n        }]\r\n    }, {\r\n        id: 2,\r\n        name: \"土木工程学院\",\r\n        ProSort: 2,\r\n\r\n        pid: '',\r\n        isEdit: false,\r\n        children: [{\r\n            id: 41,\r\n            name: \"结构工程\",\r\n            pid: 2,\r\n\r\n            isEdit: false,\r\n            children: []\r\n        }, {\r\n            id: 42,\r\n            name: \"桥梁与隧道工程\",\r\n            pid: 2,\r\n\r\n            isEdit: false,\r\n            children: []\r\n        }, {\r\n            id: 43,\r\n            name: \"岩土工程\",\r\n            pid: 2,\r\n\r\n            isEdit: false,\r\n            children: []\r\n        }, {\r\n            id: 44,\r\n            name: \"市政工程\",\r\n            pid: 2,\r\n\r\n            isEdit: false,\r\n            children: []\r\n        }]\r\n    }, {\r\n        id: 3,\r\n        name: \"电气工程学院\",\r\n        ProSort: 5,\r\n\r\n        pid: '',\r\n        isEdit: false,\r\n        children: [{\r\n            id: 45,\r\n            name: \"电气工程\",\r\n            pid: 3,\r\n\r\n            isEdit: false,\r\n            children: []\r\n        }, {\r\n            id: 46,\r\n            name: \"自动化\",\r\n            pid: 3,\r\n\r\n            isEdit: false,\r\n            children: []\r\n        }, {\r\n            id: 47,\r\n            name: \"测控工程\",\r\n            pid: 3,\r\n\r\n            isEdit: false,\r\n            children: []\r\n        }, {\r\n            id: 48,\r\n            name: \"电子信息\",\r\n            pid: 3,\r\n\r\n            isEdit: false,\r\n            children: []\r\n        }, {\r\n            id: 49,\r\n            name: \"通信工程\",\r\n            pid: 3,\r\n\r\n            isEdit: false,\r\n            children: []\r\n        }]\r\n    }, {\r\n        id: 4,\r\n        name: \"法学院\",\r\n        ProSort: 6,\r\n\r\n        pid: '',\r\n        isEdit: false,\r\n        children: [{\r\n            id: 50,\r\n            name: \"工商管理\",\r\n            pid: 4,\r\n\r\n            isEdit: false,\r\n            children: []\r\n        }]\r\n    }]\r\n}","<template>\r\n  <div>\r\n    <div class=\"crumbs\">\r\n      <el-breadcrumb separator=\"/\">\r\n        <el-breadcrumb-item><i class=\"el-icon-lx-cascades\"></i> 学院结构</el-breadcrumb-item>\r\n      </el-breadcrumb>\r\n    </div>\r\n    <div class=\"expand\">\r\n      <div>\r\n        <el-button @click=\"handleAddTop\">增加学院</el-button>\r\n        <el-input\r\n          placeholder=\"输入关键字进行过滤\"\r\n          v-model=\"filterText\"\r\n          class=\"filter\"\r\n        >\r\n        </el-input>\r\n        <el-tree\r\n          ref=\"expandMenuList\"\r\n          :filter-node-method=\"filterNode\"\r\n          class=\"expand-tree\"\r\n          v-if=\"isLoadingTree\"\r\n          :data=\"setTree\"\r\n          node-key=\"id\"\r\n          highlight-current\r\n          :props=\"defaultProps\"\r\n          :expand-on-click-node=\"false\"\r\n          :render-content=\"renderContent\"\r\n          :default-expanded-keys=\"defaultExpandKeys\"\r\n          @node-click=\"handleNodeClick\"\r\n        ></el-tree>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n<!-- VUE饿了么树形控件添加增删改功能按钮 -->\r\n<script>\r\nimport TreeRender from \"../common/TreeRender\";\r\nimport api from \"./../../../mock/index\";\r\nexport default {\r\n  name: \"tree\",\r\n  data() {\r\n    return {\r\n      maxexpandId: api.maxexpandId, //新增节点开始id\r\n      non_maxexpandId: api.maxexpandId, //新增节点开始id(不更改)\r\n      isLoadingTree: false, //是否加载节点树\r\n      setTree: api.treelist, //节点树数据\r\n      defaultProps: {\r\n        children: \"children\",\r\n        label: \"name\"\r\n      },\r\n      defaultExpandKeys: [], //默认展开节点列表\r\n      filterText: \"\"\r\n    };\r\n  },\r\n  watch: {\r\n    filterText(val) {\r\n      this.$refs.expandMenuList.filter(val);\r\n    }\r\n  },\r\n  mounted() {\r\n    console.log(api);\r\n    this.initExpand();\r\n  },\r\n  methods: {\r\n    filterNode(value, data) {\r\n      if (!value) return true;\r\n      return data.name.indexOf(value) !== -1;\r\n    },\r\n    initExpand() {\r\n      this.setTree.map(a => {\r\n        this.defaultExpandKeys.push(a.id);\r\n      });\r\n      this.isLoadingTree = true;\r\n    },\r\n    handleNodeClick(d, n, s) {\r\n      //点击节点\r\n      // console.log(d,n)\r\n      d.isEdit = false; //放弃编辑状态\r\n    },\r\n    renderContent(h, { node, data, store }) {\r\n      //加载节点\r\n      let that = this;\r\n      return h(TreeRender, {\r\n        props: {\r\n          DATA: data,\r\n          NODE: node,\r\n          STORE: store,\r\n          maxexpandId: that.non_maxexpandId\r\n        },\r\n        on: {\r\n          nodeAdd: (s, d, n) => that.handleAdd(s, d, n),\r\n          nodeEdit: (s, d, n) => that.handleEdit(s, d, n),\r\n          nodeDel: (s, d, n) => that.handleDelete(s, d, n)\r\n        }\r\n      });\r\n    },\r\n    handleAddTop() {\r\n      this.setTree.push({\r\n        id: ++this.maxexpandId,\r\n        name: \"新增节点\",\r\n        pid: \"\",\r\n        isEdit: false,\r\n        children: []\r\n      });\r\n    },\r\n    handleAdd(s, d, n) {\r\n      //增加节点\r\n      console.log(s, d, n);\r\n      if (n.level >= 6) {\r\n        this.$message.error(\"最多只支持五级！\");\r\n        return false;\r\n      }\r\n      //添加数据\r\n      d.children.push({\r\n        id: ++this.maxexpandId,\r\n        name: \"新增节点\",\r\n        pid: d.id,\r\n        isEdit: false,\r\n        children: []\r\n      });\r\n      //展开节点\r\n      if (!n.expanded) {\r\n        n.expanded = true;\r\n      }\r\n    },\r\n    handleEdit(s, d, n) {\r\n      //编辑节点\r\n      console.log(s, d, n);\r\n    },\r\n    handleDelete(s, d, n) {\r\n      //删除节点\r\n      console.log(s, d, n);\r\n      let that = this;\r\n      //有子级不删除\r\n      if (d.children && d.children.length !== 0) {\r\n        this.$message.error(\"此节点有子级，不可删除！\");\r\n        return false;\r\n      } else {\r\n        //新增节点直接删除，否则要询问是否删除\r\n        let delNode = () => {\r\n          let list = n.parent.data.children || n.parent.data, //节点同级数据\r\n            _index = 99999; //要删除的index\r\n          /*if(!n.parent.data.children){//删除顶级节点，无children\r\n              list = n.parent.data\r\n            }*/\r\n          list.map((c, i) => {\r\n            if (d.id == c.id) {\r\n              _index = i;\r\n            }\r\n          });\r\n          let k = list.splice(_index, 1);\r\n          //console.log(_index,k)\r\n          this.$message.success(\"删除成功！\");\r\n        };\r\n        let isDel = () => {\r\n          that\r\n            .$confirm(\"是否删除此节点？\", \"提示\", {\r\n              confirmButtonText: \"确认\",\r\n              cancelButtonText: \"取消\",\r\n              type: \"warning\"\r\n            })\r\n            .then(() => {\r\n              delNode();\r\n            })\r\n            .catch(() => {\r\n              return false;\r\n            });\r\n        };\r\n        //判断是否新增\r\n        d.id > this.non_maxexpandId ? delNode() : isDel();\r\n      }\r\n    }\r\n  }\r\n};\r\n</script>\r\n\r\n<style>\r\n.expand {\r\n  width: 100%;\r\n  height: 100%;\r\n  overflow: hidden;\r\n}\r\n.expand > div {\r\n  height: 100%;\r\n  width: 50%;\r\n  max-width: 400px;\r\n  overflow-y: auto;\r\n}\r\n.expand > div::-webkit-scrollbar-track {\r\n  box-shadow: inset 0 0 6px rgba(0, 0, 0, 0.3);\r\n  border-radius: 5px;\r\n}\r\n.expand > div::-webkit-scrollbar-thumb {\r\n  background-color: rgba(50, 65, 87, 0.5);\r\n  outline: 1px solid slategrey;\r\n  border-radius: 5px;\r\n}\r\n.expand > div::-webkit-scrollbar {\r\n  width: 10px;\r\n}\r\n.expand-tree {\r\n  border: none;\r\n  margin-top: 10px;\r\n}\r\n.expand-tree .el-tree-node.is-current,\r\n.expand-tree .el-tree-node:hover {\r\n  overflow: hidden;\r\n}\r\n.expand-tree .is-current > .el-tree-node__content .tree-btn,\r\n.expand-tree .el-tree-node__content:hover .tree-btn {\r\n  display: inline-block;\r\n}\r\n.expand-tree .is-current > .el-tree-node__content .tree-label {\r\n  font-weight: 600;\r\n  white-space: normal;\r\n}\r\n.filter {\r\n  width: 300px;\r\n  margin-left: 16px;\r\n}\r\n</style>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SystemManage.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SystemManage.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./SystemManage.vue?vue&type=template&id=95d37df6&\"\nimport script from \"./SystemManage.vue?vue&type=script&lang=js&\"\nexport * from \"./SystemManage.vue?vue&type=script&lang=js&\"\nimport style0 from \"./SystemManage.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\ncomponent.options.__file = \"SystemManage.vue\"\nexport default component.exports"],"sourceRoot":""}