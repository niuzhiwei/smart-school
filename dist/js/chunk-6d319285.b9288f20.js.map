{"version":3,"sources":["webpack:///./src/components/page/Dormitory.vue?1123","webpack:///./mock/dormitory.js","webpack:///src/components/page/Dormitory.vue","webpack:///./src/components/page/Dormitory.vue?20a5","webpack:///./src/components/page/Dormitory.vue","webpack:///./src/components/page/Dormitory.vue?450e","webpack:///./src/components/common/TreeRender.vue?65d8","webpack:///src/components/common/TreeRender.vue","webpack:///./src/components/common/TreeRender.vue?2de7","webpack:///./src/components/common/TreeRender.vue","webpack:///./src/components/common/TreeRender.vue?d7df"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","separator","_v","on","click","handleAddTop","ref","data","setTree","node-key","highlight-current","props","defaultProps","expand-on-click-node","render-content","renderContent","default-expanded-keys","defaultExpandKeys","node-click","handleNodeClick","_e","staticRenderFns","dormitory","maxexpandId","treelist","id","name","ProSort","pid","isEdit","children","remark","Dormitoryvue_type_script_lang_js_","non_maxexpandId","isLoadingTree","label","mounted","console","log","initExpand","methods","_this","map","a","push","d","n","s","h","_ref","node","store","that","TreeRender","DATA","NODE","STORE","nodeAdd","handleAdd","nodeEdit","handleEdit","nodeDel","handleDelete","level","$message","error","expanded","_this2","length","delNode","list","parent","_index","c","i","splice","success","isDel","$confirm","confirmButtonText","cancelButtonText","type","then","catch","page_Dormitoryvue_type_script_lang_js_","component","Object","componentNormalizer","options","__file","__webpack_exports__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_Dormitory_vue_vue_type_style_index_0_lang_css___WEBPACK_IMPORTED_MODULE_0__","__webpack_require__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_Dormitory_vue_vue_type_style_index_0_lang_css___WEBPACK_IMPORTED_MODULE_0___default","directives","rawName","value","expression","size","autofocus","blur","$event","stopPropagation","nodeEditPass","nativeOn","nodeEditFocus","keyup","_k","keyCode","key","model","callback","$$v","$set","class","_s","TreeRendervue_type_script_lang_js_","$emit","$nextTick","$refs","input","focus","common_TreeRendervue_type_script_lang_js_","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_TreeRender_vue_vue_type_style_index_0_lang_css___WEBPACK_IMPORTED_MODULE_0__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_TreeRender_vue_vue_type_style_index_0_lang_css___WEBPACK_IMPORTED_MODULE_0___default"],"mappings":"gJAAA,IAAAA,EAAA,WAA0B,IAAAC,EAAAC,KAAaC,EAAAF,EAAAG,eAA0BC,EAAAJ,EAAAK,MAAAD,IAAAF,EAAwB,OAAAE,EAAA,OAAAA,EAAA,OAA2BE,YAAA,UAAqB,CAAAF,EAAA,iBAAsBG,MAAA,CAAOC,UAAA,MAAiB,CAAAJ,EAAA,sBAAAA,EAAA,KAAmCE,YAAA,wBAAkCN,EAAAS,GAAA,mBAAAL,EAAA,OAAsCE,YAAA,UAAqB,CAAAF,EAAA,OAAAA,EAAA,aAA4BM,GAAA,CAAIC,MAAAX,EAAAY,eAA0B,CAAAZ,EAAAS,GAAA,UAAAT,EAAA,cAAAI,EAAA,WAAqDS,IAAA,iBAAAP,YAAA,cAAAC,MAAA,CAAsDO,KAAAd,EAAAe,QAAAC,WAAA,KAAAC,oBAAA,GAAAC,MAAAlB,EAAAmB,aAAAC,wBAAA,EAAAC,iBAAArB,EAAAsB,cAAAC,wBAAAvB,EAAAwB,mBAAiMd,GAAA,CAAKe,aAAAzB,EAAA0B,mBAAkC1B,EAAA2B,MAAA,QACpsBC,EAAA,eCDeC,EAAA,CACXC,YAAa,GACbC,SAAU,CAAC,CACPC,GAAI,EACJC,KAAM,OACNC,QAAS,EACTC,IAAK,GACLC,QAAQ,EACRC,SAAU,CAAC,CACPL,GAAI,GACJC,KAAM,KACNE,IAAK,EACLG,OAAQ,GACRF,QAAQ,EACRC,SAAU,CAAC,CACPL,GAAI,GACJC,KAAM,MACNE,IAAK,EACLG,OAAQ,GACRF,QAAQ,EACRC,SAAU,IACX,CACCL,GAAI,GACJC,KAAM,MACNE,IAAK,EACLG,OAAQ,GACRF,QAAQ,EACRC,SAAU,MAEf,CACCL,GAAI,GACJC,KAAM,KACNE,IAAK,EAELC,QAAQ,EACRC,SAAU,IACX,CACCL,GAAI,GACJC,KAAM,KACNE,IAAK,EAELC,QAAQ,EACRC,SAAU,IACX,CACCL,GAAI,GACJC,KAAM,KACNE,IAAK,EAELC,QAAQ,EACRC,SAAU,IACX,CACCL,GAAI,GACJC,KAAM,KACNE,IAAK,EAELC,QAAQ,EACRC,SAAU,IACX,CACCL,GAAI,GACJC,KAAM,KACNE,IAAK,EAELC,QAAQ,EACRC,SAAU,MAEf,CACCL,GAAI,EACJC,KAAM,OACNC,QAAS,EAETC,IAAK,GACLC,QAAQ,EACRC,SAAU,CAAC,CACPL,GAAI,GACJC,KAAM,KACNE,IAAK,EAELC,QAAQ,EACRC,SAAU,IACX,CACCL,GAAI,GACJC,KAAM,KACNE,IAAK,EAELC,QAAQ,EACRC,SAAU,IACX,CACCL,GAAI,GACJC,KAAM,KACNE,IAAK,EAELC,QAAQ,EACRC,SAAU,IACX,CACCL,GAAI,GACJC,KAAM,KACNE,IAAK,EAELC,QAAQ,EACRC,SAAU,MAEf,CACCL,GAAI,EACJC,KAAM,OACNC,QAAS,EAETC,IAAK,GACLC,QAAQ,EACRC,SAAU,CAAC,CACPL,GAAI,GACJC,KAAM,KACNE,IAAK,EAELC,QAAQ,EACRC,SAAU,IACX,CACCL,GAAI,GACJC,KAAM,KACNE,IAAK,EAELC,QAAQ,EACRC,SAAU,IACX,CACCL,GAAI,GACJC,KAAM,KACNE,IAAK,EAELC,QAAQ,EACRC,SAAU,IACX,CACCL,GAAI,GACJC,KAAM,KACNE,IAAK,EAELC,QAAQ,EACRC,SAAU,IACX,CACCL,GAAI,GACJC,KAAM,KACNE,IAAK,EAELC,QAAQ,EACRC,SAAU,QC9GtBE,EAAA,CACAN,KAAA,OACAnB,KAFA,WAGA,OACAgB,YAAAD,EAAAC,YACAU,gBAAAX,EAAAC,YACAW,eAAA,EACA1B,QAAAc,EAAAE,SACAZ,aAAA,CACAkB,SAAA,WACAK,MAAA,QAEAlB,kBAAA,KAGAmB,QAfA,WAgBAC,QAAAC,IAAAhB,GACA5B,KAAA6C,cAEAC,QAAA,CACAD,WADA,WACA,IAAAE,EAAA/C,KACAA,KAAAc,QAAAkC,IAAA,SAAAC,GACAF,EAAAxB,kBAAA2B,KAAAD,EAAAlB,MAEA/B,KAAAwC,eAAA,GAEAf,gBAPA,SAOA0B,EAAAC,EAAAC,GAGAF,EAAAhB,QAAA,GAEAd,cAZA,SAYAiC,EAZAC,GAYA,IAAAC,EAAAD,EAAAC,KAAA3C,EAAA0C,EAAA1C,KAAA4C,EAAAF,EAAAE,MAEAC,EAAA1D,KACA,OAAAsD,EAAAK,EAAA,MACA1C,MAAA,CACA2C,KAAA/C,EACAgD,KAAAL,EACAM,MAAAL,EACA5B,YAAA6B,EAAAnB,iBAEA9B,GAAA,CACAsD,QAAA,SAAAV,EAAAF,EAAAC,GAAA,OAAAM,EAAAM,UAAAX,EAAAF,EAAAC,IACAa,SAAA,SAAAZ,EAAAF,EAAAC,GAAA,OAAAM,EAAAQ,WAAAb,EAAAF,EAAAC,IACAe,QAAA,SAAAd,EAAAF,EAAAC,GAAA,OAAAM,EAAAU,aAAAf,EAAAF,EAAAC,QAIAzC,aA7BA,WA8BAX,KAAAc,QAAAoC,KAAA,CACAnB,KAAA/B,KAAA6B,YACAG,KAAA,OACAE,IAAA,GACAC,QAAA,EACAC,SAAA,MAGA4B,UAtCA,SAsCAX,EAAAF,EAAAC,GAGA,GADAT,QAAAC,IAAAS,EAAAF,EAAAC,GACAA,EAAAiB,OAAA,EAEA,OADArE,KAAAsE,SAAAC,MAAA,aACA,EAGApB,EAAAf,SAAAc,KAAA,CACAnB,KAAA/B,KAAA6B,YACAG,KAAA,OACAE,IAAAiB,EAAApB,GACAI,QAAA,EACAC,SAAA,KAGAgB,EAAAoB,WACApB,EAAAoB,UAAA,IAGAN,WA1DA,SA0DAb,EAAAF,EAAAC,GAEAT,QAAAC,IAAAS,EAAAF,EAAAC,IAEAgB,aA9DA,SA8DAf,EAAAF,EAAAC,GAAA,IAAAqB,EAAAzE,KAEA2C,QAAAC,IAAAS,EAAAF,EAAAC,GACA,IAAAM,EAAA1D,KAEA,GAAAmD,EAAAf,UAAA,IAAAe,EAAAf,SAAAsC,OAEA,OADA1E,KAAAsE,SAAAC,MAAA,iBACA,EAGA,IAAAI,EAAA,WACA,IAAAC,EAAAxB,EAAAyB,OAAAhE,KAAAuB,UAAAgB,EAAAyB,OAAAhE,KACAiE,EAAA,MAIAF,EAAA5B,IAAA,SAAA+B,EAAAC,GACA7B,EAAApB,IAAAgD,EAAAhD,KACA+C,EAAAE,KAGAJ,EAAAK,OAAAH,EAAA,GAEAL,EAAAH,SAAAY,QAAA,UAEAC,EAAA,WACAzB,EACA0B,SAAA,iBACAC,kBAAA,KACAC,iBAAA,KACAC,KAAA,YAEAC,KAAA,WACAb,MAEAc,MAAA,WACA,YAIAtC,EAAApB,GAAA/B,KAAAuC,gBAAAoC,IAAAQ,OCzJkWO,EAAA,0BCQlWC,EAAgBC,OAAAC,EAAA,KAAAD,CACdF,EACA5F,EACA6B,GACF,EACA,KACA,KACA,MAIAgE,EAAAG,QAAAC,OAAA,gBACeC,EAAA,WAAAL,6CCpBf,IAAAM,EAAAC,EAAA,QAAAC,EAAAD,EAAA9C,EAAA6C,GAA+dE,EAAG,qCCAle,IAAArG,EAAA,WAA0B,IAAAC,EAAAC,KAAaC,EAAAF,EAAAG,eAA0BC,EAAAJ,EAAAK,MAAAD,IAAAF,EAAwB,OAAAE,EAAA,QAAkBE,YAAA,eAA0B,CAAAF,EAAA,QAAaiG,WAAA,EAAapE,KAAA,OAAAqE,QAAA,SAAAC,MAAAvG,EAAA6D,KAAA,OAAA2C,WAAA,gBAA8ElG,YAAA,cAA2B,CAAAF,EAAA,YAAiBS,IAAA,YAAAb,EAAA6D,KAAA7B,GAAA1B,YAAA,OAAAC,MAAA,CAAsDkG,KAAA,OAAAC,UAAA,IAA6BhG,GAAA,CAAKiG,KAAA,SAAAC,GAAwBA,EAAAC,kBAAyB7G,EAAA8G,aAAA9G,EAAA+D,MAAA/D,EAAA6D,KAAA7D,EAAA8D,QAA+CiD,SAAA,CAAWpG,MAAA,SAAAiG,GAAkD,OAAzBA,EAAAC,kBAAyB7G,EAAAgH,cAAAJ,IAAiCK,MAAA,SAAAL,GAA0B,gBAAAA,IAAA5G,EAAAkH,GAAAN,EAAAO,QAAA,WAAAP,EAAAQ,IAAA,SAAgF,YAAeR,EAAAC,kBAAyB7G,EAAA8G,aAAA9G,EAAA+D,MAAA/D,EAAA6D,KAAA7D,EAAA8D,QAA+CuD,MAAA,CAAQd,MAAAvG,EAAA6D,KAAA,KAAAyD,SAAA,SAAAC,GAA+CvH,EAAAwH,KAAAxH,EAAA6D,KAAA,OAAA0D,IAAgCf,WAAA,gBAAyB,GAAApG,EAAA,QAAiBiG,WAAA,EAAapE,KAAA,OAAAqE,QAAA,SAAAC,OAAAvG,EAAA6D,KAAAzB,OAAAoE,WAAA,iBAAgFiB,MAAA,CAAAzH,EAAA6D,KAAA7B,GAAAhC,EAAA8B,YAAA,qCAA+E,CAAA1B,EAAA,QAAAJ,EAAAS,GAAAT,EAAA0H,GAAA1H,EAAA6D,KAAA5B,WAAA7B,EAAA,QAA0DiG,WAAA,EAAapE,KAAA,OAAAqE,QAAA,SAAAC,OAAAvG,EAAA6D,KAAAzB,OAAAoE,WAAA,iBAAgFlG,YAAA,YAAyB,CAAAF,EAAA,KAAUE,YAAA,eAAAI,GAAA,CAA+BC,MAAA,SAAAiG,GAAyBA,EAAAC,kBAAyB7G,EAAAgE,QAAAhE,EAAA+D,MAAA/D,EAAA6D,KAAA7D,EAAA8D,UAA2C1D,EAAA,KAAUE,YAAA,eAAAI,GAAA,CAA+BC,MAAA,SAAAiG,GAAyBA,EAAAC,kBAAyB7G,EAAAkE,SAAAlE,EAAA+D,MAAA/D,EAAA6D,KAAA7D,EAAA8D,UAA4C1D,EAAA,KAAUE,YAAA,iBAAAI,GAAA,CAAiCC,MAAA,SAAAiG,GAAyBA,EAAAC,kBAAyB7G,EAAAoE,QAAApE,EAAA+D,MAAA/D,EAAA6D,KAAA7D,EAAA8D,eACvjDlC,EAAA,GC2CA+F,EAAA,CACA1F,KAAA,aACAf,MAAA,sCACA6B,QAAA,CACAiB,QADA,SACAV,EAAAF,EAAAC,GAEApD,KAAA2H,MAAA,UAAAtE,EAAAF,EAAAC,IAEAa,SALA,SAKAZ,EAAAF,EAAAC,GAAA,IAAAL,EAAA/C,KAEAmD,EAAAhB,QAAA,EACAnC,KAAA4H,UAAA,WACA7E,EAAA8E,MAAA,YAAA1E,EAAApB,IAAA8F,MAAAC,MAAAC,UAEA/H,KAAA2H,MAAA,WAAAtE,EAAAF,EAAAC,IAEAe,QAbA,SAaAd,EAAAF,EAAAC,GAEApD,KAAA2H,MAAA,UAAAtE,EAAAF,EAAAC,IAEAyD,aAjBA,SAiBAxD,EAAAF,EAAAC,GAEAD,EAAAhB,QAAA,GAEA4E,cArBA,eC/CmWiB,EAAA,0BCQnWrC,EAAgBC,OAAAC,EAAA,KAAAD,CACdoC,EACAlI,EACA6B,GACF,EACA,KACA,KACA,MAIAgE,EAAAG,QAAAC,OAAA,iBACeC,EAAA,KAAAL,oECpBf,IAAAsC,EAAA/B,EAAA,QAAAgC,EAAAhC,EAAA9C,EAAA6E,GAAgeC,EAAG","file":"js/chunk-6d319285.b9288f20.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('div',{staticClass:\"crumbs\"},[_c('el-breadcrumb',{attrs:{\"separator\":\"/\"}},[_c('el-breadcrumb-item',[_c('i',{staticClass:\"el-icon-lx-cascades\"}),_vm._v(\" 宿舍管理\")])],1)],1),_c('div',{staticClass:\"expand\"},[_c('div',[_c('el-button',{on:{\"click\":_vm.handleAddTop}},[_vm._v(\"增加宿舍\")]),(_vm.isLoadingTree)?_c('el-tree',{ref:\"expandMenuList\",staticClass:\"expand-tree\",attrs:{\"data\":_vm.setTree,\"node-key\":\"id\",\"highlight-current\":\"\",\"props\":_vm.defaultProps,\"expand-on-click-node\":false,\"render-content\":_vm.renderContent,\"default-expanded-keys\":_vm.defaultExpandKeys},on:{\"node-click\":_vm.handleNodeClick}}):_vm._e()],1)])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","export default {\r\n    maxexpandId: 95,\r\n    treelist: [{\r\n        id: 1,\r\n        name: \"宿舍南区\",\r\n        ProSort: 1,\r\n        pid: '',\r\n        isEdit: false,\r\n        children: [{\r\n            id: 35,\r\n            name: \"一栋\",\r\n            pid: 1,\r\n            remark: '',\r\n            isEdit: false,\r\n            children: [{\r\n                id: 96,\r\n                name: \"101\",\r\n                pid: 1,\r\n                remark: '',\r\n                isEdit: false,\r\n                children: []\r\n            }, {\r\n                id: 97,\r\n                name: \"102\",\r\n                pid: 1,\r\n                remark: '',\r\n                isEdit: false,\r\n                children: []\r\n            }]\r\n        }, {\r\n            id: 36,\r\n            name: \"二栋\",\r\n            pid: 1,\r\n\r\n            isEdit: false,\r\n            children: []\r\n        }, {\r\n            id: 37,\r\n            name: \"三栋\",\r\n            pid: 1,\r\n\r\n            isEdit: false,\r\n            children: []\r\n        }, {\r\n            id: 38,\r\n            name: \"四栋\",\r\n            pid: 1,\r\n\r\n            isEdit: false,\r\n            children: []\r\n        }, {\r\n            id: 39,\r\n            name: \"五栋\",\r\n            pid: 1,\r\n\r\n            isEdit: false,\r\n            children: []\r\n        }, {\r\n            id: 40,\r\n            name: \"六栋\",\r\n            pid: 1,\r\n\r\n            isEdit: false,\r\n            children: []\r\n        }]\r\n    }, {\r\n        id: 2,\r\n        name: \"宿舍北区\",\r\n        ProSort: 2,\r\n\r\n        pid: '',\r\n        isEdit: false,\r\n        children: [{\r\n            id: 41,\r\n            name: \"一栋\",\r\n            pid: 2,\r\n\r\n            isEdit: false,\r\n            children: []\r\n        }, {\r\n            id: 42,\r\n            name: \"二栋\",\r\n            pid: 2,\r\n\r\n            isEdit: false,\r\n            children: []\r\n        }, {\r\n            id: 43,\r\n            name: \"三栋\",\r\n            pid: 2,\r\n\r\n            isEdit: false,\r\n            children: []\r\n        }, {\r\n            id: 44,\r\n            name: \"四栋\",\r\n            pid: 2,\r\n\r\n            isEdit: false,\r\n            children: []\r\n        }]\r\n    }, {\r\n        id: 3,\r\n        name: \"宿舍中区\",\r\n        ProSort: 5,\r\n\r\n        pid: '',\r\n        isEdit: false,\r\n        children: [{\r\n            id: 45,\r\n            name: \"一栋\",\r\n            pid: 3,\r\n\r\n            isEdit: false,\r\n            children: []\r\n        }, {\r\n            id: 46,\r\n            name: \"二栋\",\r\n            pid: 3,\r\n\r\n            isEdit: false,\r\n            children: []\r\n        }, {\r\n            id: 47,\r\n            name: \"三栋\",\r\n            pid: 3,\r\n\r\n            isEdit: false,\r\n            children: []\r\n        }, {\r\n            id: 48,\r\n            name: \"四栋\",\r\n            pid: 3,\r\n\r\n            isEdit: false,\r\n            children: []\r\n        }, {\r\n            id: 49,\r\n            name: \"五栋\",\r\n            pid: 3,\r\n\r\n            isEdit: false,\r\n            children: []\r\n        }]\r\n    }, ]\r\n}","<template>\r\n  <div>\r\n    <div class=\"crumbs\">\r\n      <el-breadcrumb separator=\"/\">\r\n        <el-breadcrumb-item><i class=\"el-icon-lx-cascades\"></i> 宿舍管理</el-breadcrumb-item>\r\n      </el-breadcrumb>\r\n    </div>\r\n    <div class=\"expand\">\r\n      <div>\r\n        <el-button @click=\"handleAddTop\">增加宿舍</el-button>\r\n        <el-tree\r\n          ref=\"expandMenuList\"\r\n          class=\"expand-tree\"\r\n          v-if=\"isLoadingTree\"\r\n          :data=\"setTree\"\r\n          node-key=\"id\"\r\n          highlight-current\r\n          :props=\"defaultProps\"\r\n          :expand-on-click-node=\"false\"\r\n          :render-content=\"renderContent\"\r\n          :default-expanded-keys=\"defaultExpandKeys\"\r\n          @node-click=\"handleNodeClick\"\r\n        ></el-tree>\r\n      </div>\r\n    </div>\r\n  </div>\r\n\r\n</template>\r\n<!-- VUE饿了么树形控件添加增删改功能按钮 -->\r\n<script>\r\nimport TreeRender from \"../common/TreeRender\";\r\nimport api from \"./../../../mock/dormitory\";\r\nexport default {\r\n  name: \"tree\",\r\n  data() {\r\n    return {\r\n      maxexpandId: api.maxexpandId, //新增节点开始id\r\n      non_maxexpandId: api.maxexpandId, //新增节点开始id(不更改)\r\n      isLoadingTree: false, //是否加载节点树\r\n      setTree: api.treelist, //节点树数据\r\n      defaultProps: {\r\n        children: \"children\",\r\n        label: \"name\"\r\n      },\r\n      defaultExpandKeys: [] //默认展开节点列表\r\n    };\r\n  },\r\n  mounted() {\r\n    console.log(api);\r\n    this.initExpand();\r\n  },\r\n  methods: {\r\n    initExpand() {\r\n      this.setTree.map(a => {\r\n        this.defaultExpandKeys.push(a.id);\r\n      });\r\n      this.isLoadingTree = true;\r\n    },\r\n    handleNodeClick(d, n, s) {\r\n      //点击节点\r\n      // console.log(d,n)\r\n      d.isEdit = false; //放弃编辑状态\r\n    },\r\n    renderContent(h, { node, data, store }) {\r\n      //加载节点\r\n      let that = this;\r\n      return h(TreeRender, {\r\n        props: {\r\n          DATA: data,\r\n          NODE: node,\r\n          STORE: store,\r\n          maxexpandId: that.non_maxexpandId\r\n        },\r\n        on: {\r\n          nodeAdd: (s, d, n) => that.handleAdd(s, d, n),\r\n          nodeEdit: (s, d, n) => that.handleEdit(s, d, n),\r\n          nodeDel: (s, d, n) => that.handleDelete(s, d, n)\r\n        }\r\n      });\r\n    },\r\n    handleAddTop() {\r\n      this.setTree.push({\r\n        id: ++this.maxexpandId,\r\n        name: \"新增节点\",\r\n        pid: \"\",\r\n        isEdit: false,\r\n        children: []\r\n      });\r\n    },\r\n    handleAdd(s, d, n) {\r\n      //增加节点\r\n      console.log(s, d, n);\r\n      if (n.level >= 6) {\r\n        this.$message.error(\"最多只支持五级！\");\r\n        return false;\r\n      }\r\n      //添加数据\r\n      d.children.push({\r\n        id: ++this.maxexpandId,\r\n        name: \"新增节点\",\r\n        pid: d.id,\r\n        isEdit: false,\r\n        children: []\r\n      });\r\n      //展开节点\r\n      if (!n.expanded) {\r\n        n.expanded = true;\r\n      }\r\n    },\r\n    handleEdit(s, d, n) {\r\n      //编辑节点\r\n      console.log(s, d, n);\r\n    },\r\n    handleDelete(s, d, n) {\r\n      //删除节点\r\n      console.log(s, d, n);\r\n      let that = this;\r\n      //有子级不删除\r\n      if (d.children && d.children.length !== 0) {\r\n        this.$message.error(\"此节点有子级，不可删除！\");\r\n        return false;\r\n      } else {\r\n        //新增节点直接删除，否则要询问是否删除\r\n        let delNode = () => {\r\n          let list = n.parent.data.children || n.parent.data, //节点同级数据\r\n            _index = 99999; //要删除的index\r\n          /*if(!n.parent.data.children){//删除顶级节点，无children\r\n              list = n.parent.data\r\n            }*/\r\n          list.map((c, i) => {\r\n            if (d.id == c.id) {\r\n              _index = i;\r\n            }\r\n          });\r\n          let k = list.splice(_index, 1);\r\n          //console.log(_index,k)\r\n          this.$message.success(\"删除成功！\");\r\n        };\r\n        let isDel = () => {\r\n          that\r\n            .$confirm(\"是否删除此节点？\", \"提示\", {\r\n              confirmButtonText: \"确认\",\r\n              cancelButtonText: \"取消\",\r\n              type: \"warning\"\r\n            })\r\n            .then(() => {\r\n              delNode();\r\n            })\r\n            .catch(() => {\r\n              return false;\r\n            });\r\n        };\r\n        //判断是否新增\r\n        d.id > this.non_maxexpandId ? delNode() : isDel();\r\n      }\r\n    }\r\n  }\r\n};\r\n</script>\r\n\r\n<style>\r\n.expand {\r\n  width: 100%;\r\n  height: 100%;\r\n  min-height: 1080px;\r\n  overflow: hidden;\r\n  background-color: #fff;\r\n}\r\n.expand > div {\r\n  height: 100%;\r\n  width: 100%;\r\n  max-width: 400px;\r\n  overflow-y: auto;\r\n  margin-top: 16px;\r\n  margin-left: 16px;\r\n}\r\n.expand > div::-webkit-scrollbar-track {\r\n  box-shadow: inset 0 0 6px rgba(0, 0, 0, 0.3);\r\n  border-radius: 5px;\r\n}\r\n.expand > div::-webkit-scrollbar-thumb {\r\n  background-color: rgba(50, 65, 87, 0.5);\r\n  outline: 1px solid slategrey;\r\n  border-radius: 5px;\r\n}\r\n.expand > div::-webkit-scrollbar {\r\n  width: 10px;\r\n}\r\n.expand-tree {\r\n  border: none;\r\n  margin-top: 10px;\r\n}\r\n.expand-tree .el-tree-node.is-current,\r\n.expand-tree .el-tree-node:hover {\r\n  overflow: hidden;\r\n}\r\n.expand-tree .is-current > .el-tree-node__content .tree-btn,\r\n.expand-tree .el-tree-node__content:hover .tree-btn {\r\n  display: inline-block;\r\n}\r\n.expand-tree .is-current > .el-tree-node__content .tree-label {\r\n  font-weight: 600;\r\n  white-space: normal;\r\n}\r\n</style>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Dormitory.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Dormitory.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Dormitory.vue?vue&type=template&id=da86ed16&\"\nimport script from \"./Dormitory.vue?vue&type=script&lang=js&\"\nexport * from \"./Dormitory.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Dormitory.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\ncomponent.options.__file = \"Dormitory.vue\"\nexport default component.exports","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Dormitory.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Dormitory.vue?vue&type=style&index=0&lang=css&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('span',{staticClass:\"tree-expand\"},[_c('span',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.DATA.isEdit),expression:\"DATA.isEdit\"}],staticClass:\"tree-label\"},[_c('el-input',{ref:'treeInput'+_vm.DATA.id,staticClass:\"edit\",attrs:{\"size\":\"mini\",\"autofocus\":\"\"},on:{\"blur\":function($event){$event.stopPropagation();_vm.nodeEditPass(_vm.STORE,_vm.DATA,_vm.NODE)}},nativeOn:{\"click\":function($event){$event.stopPropagation();return _vm.nodeEditFocus($event)},\"keyup\":function($event){if(!('button' in $event)&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }$event.stopPropagation();_vm.nodeEditPass(_vm.STORE,_vm.DATA,_vm.NODE)}},model:{value:(_vm.DATA.name),callback:function ($$v) {_vm.$set(_vm.DATA, \"name\", $$v)},expression:\"DATA.name\"}})],1),_c('span',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.DATA.isEdit),expression:\"!DATA.isEdit\"}],class:[_vm.DATA.id > _vm.maxexpandId ? 'tree-new tree-label' : 'tree-label']},[_c('span',[_vm._v(_vm._s(_vm.DATA.name))])]),_c('span',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.DATA.isEdit),expression:\"!DATA.isEdit\"}],staticClass:\"tree-btn\"},[_c('i',{staticClass:\"el-icon-plus\",on:{\"click\":function($event){$event.stopPropagation();_vm.nodeAdd(_vm.STORE,_vm.DATA,_vm.NODE)}}}),_c('i',{staticClass:\"el-icon-edit\",on:{\"click\":function($event){$event.stopPropagation();_vm.nodeEdit(_vm.STORE,_vm.DATA,_vm.NODE)}}}),_c('i',{staticClass:\"el-icon-delete\",on:{\"click\":function($event){$event.stopPropagation();_vm.nodeDel(_vm.STORE,_vm.DATA,_vm.NODE)}}})])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <span class=\"tree-expand\">\r\n    <span\r\n      class=\"tree-label\"\r\n      v-show=\"DATA.isEdit\"\r\n    >\r\n      <el-input\r\n        class=\"edit\"\r\n        size=\"mini\"\r\n        autofocus\r\n        v-model=\"DATA.name\"\r\n        :ref=\"'treeInput'+DATA.id\"\r\n        @click.stop.native=\"nodeEditFocus\"\r\n        @blur.stop=\"nodeEditPass(STORE,DATA,NODE)\"\r\n        @keyup.enter.stop.native=\"nodeEditPass(STORE,DATA,NODE)\"\r\n      ></el-input>\r\n    </span>\r\n    <span\r\n      v-show=\"!DATA.isEdit\"\r\n      :class=\"[DATA.id > maxexpandId ? 'tree-new tree-label' : 'tree-label']\"\r\n    >\r\n      <span>{{DATA.name}}</span>\r\n    </span>\r\n    <span\r\n      class=\"tree-btn\"\r\n      v-show=\"!DATA.isEdit\"\r\n    >\r\n      <i\r\n        class=\"el-icon-plus\"\r\n        @click.stop=\"nodeAdd(STORE,DATA,NODE)\"\r\n      ></i>\r\n      <i\r\n        class=\"el-icon-edit\"\r\n        @click.stop=\"nodeEdit(STORE,DATA,NODE)\"\r\n      ></i>\r\n      <i\r\n        class=\"el-icon-delete\"\r\n        @click.stop=\"nodeDel(STORE,DATA,NODE)\"\r\n      ></i>\r\n    </span>\r\n  </span>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: \"treeExpand\",\r\n  props: [\"NODE\", \"DATA\", \"STORE\", \"maxexpandId\"],\r\n  methods: {\r\n    nodeAdd(s, d, n) {\r\n      //新增\r\n      this.$emit(\"nodeAdd\", s, d, n);\r\n    },\r\n    nodeEdit(s, d, n) {\r\n      //编辑\r\n      d.isEdit = true;\r\n      this.$nextTick(() => {\r\n        this.$refs[\"treeInput\" + d.id].$refs.input.focus();\r\n      });\r\n      this.$emit(\"nodeEdit\", s, d, n);\r\n    },\r\n    nodeDel(s, d, n) {\r\n      //删除\r\n      this.$emit(\"nodeDel\", s, d, n);\r\n    },\r\n    nodeEditPass(s, d, n) {\r\n      //编辑完成\r\n      d.isEdit = false;\r\n    },\r\n    nodeEditFocus() {\r\n      //阻止点击节点的事件冒泡\r\n    }\r\n  }\r\n};\r\n</script>\r\n\r\n<style>\r\n.tree-expand {\r\n  overflow: hidden;\r\n}\r\n\r\n.tree-expand .tree-label {\r\n  font-size: 1.2em;\r\n}\r\n.tree-expand .tree-label .edit {\r\n  width: 80%;\r\n}\r\n.tree-expand .tree-btn {\r\n  display: none;\r\n  float: right;\r\n  margin-right: 40px;\r\n}\r\n.tree-expand .tree-btn i {\r\n  color: #8492a6;\r\n  font-size: 1.2em;\r\n  margin-right: 10px;\r\n}\r\n</style>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TreeRender.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TreeRender.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./TreeRender.vue?vue&type=template&id=058a9d10&\"\nimport script from \"./TreeRender.vue?vue&type=script&lang=js&\"\nexport * from \"./TreeRender.vue?vue&type=script&lang=js&\"\nimport style0 from \"./TreeRender.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\ncomponent.options.__file = \"TreeRender.vue\"\nexport default component.exports","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TreeRender.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TreeRender.vue?vue&type=style&index=0&lang=css&\""],"sourceRoot":""}